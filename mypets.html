<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetPal - My Pets</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Spicy+Rice&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css_styles/styles.css">

     <!-- Include Firebase SDKs -->
     <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-functions-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-storage-compat.js"></script>


    <!-- Add Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Include your Firebase config and custom scripts -->
    <script type = "module" src="firebaseConfig.js"></script>
    <!-- Include Dummy Data -->
    <!-- <script src="../../../backend/dummyData.js"></script> -->
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light" style="background-color: white;">
            <div class="container-fluid">
                <!-- Logo and brand -->
                <a class="navbar-brand" href="home.html">
                    <img src="assets/Logo1.png" alt="Icon1" style="height: 40px; width: auto; margin-right: 1px;">
                    <span class="logo" style="margin-left: 0px;">PetPal</span>
                </a>
                
                <!-- Toggle button for mobile view -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
    
                <!-- Collapsible content -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="font-size: 14px;">
                        <li class="nav-item">
                            <a class="nav-link" href="home.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="mypets.html" id="active-link">My Pets</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="memories.html">Memories</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="healthcare.html">Health & Care</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="supplies.html">Food & Supplies</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="community.html">Community</a>
                        </li>
                    </ul>
                    <!-- Login/Register Buttons on the right -->
                    <ul class="navbar-nav ms-auto">
                        <li><a href="signOut.html" id="signOutButton" class="btn btn-outline-primary btn-sign-out">Sign Out</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="padded container-fluid"> 
        <section class="section">
            <div class="my-pets-section">
                <h2 class="section-header"><img src="assets/Paws.png" alt="Paws Icon" class="header-icon"> Active Pets</h2>
                <hr class="styled-line">
                <div id="message-container-active-pets"></div>
                <div class="row" id="pets-row" style="padding:10px;">
                    <!-- Pet gallery goes here -->
                </div>
                <div class="button-container text-center">
                    <button class="add-button" onclick="openAddPetForm()">+ Add Pet</button>
                </div>
            </div>
        </section>
    </div>

    <div class="padded container-fluid"> 
        <section class="section">
            <div class="archived-pets-section">
                <h2 class="section-header"><img src="assets/Paws.png" alt="Paws Icon" class="header-icon"> Archived Pets</h2>
                <hr class="styled-line">
                <div class="text-center">
                    <button class="filter-button-outline" style="margin-bottom: 30px;" id="toggle-archived-btn" onclick="toggleArchivedPets()">
                        <i class="fa-solid fa-eye"></i> View Archived Pets</button>
                </div>
                <div id="message-container-archived-pets" style="margin-top:20px; display:none;"></div>
                <div class="row" id="archived-pets-row" style="padding:10px; display:none;">
                    <!-- Archived Pet gallery goes here -->
                </div>
            </div>
        </section>
    </div>
    

    <div id="add-pet-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Pet</h2>
            <form id="add-pet-form" onsubmit="addPet(event)" style="text-align: left;">
                <label for="pet-name">Pet Name</label>
                <input type="text" id="pet-name" name="pet-name" required>
                <label for="species">Species</label>
                <input type="text" id="species" name="species" required>
                <label for="breed">Breed</label>
                <input type="text" id="breed" name="breed" required>
                <label for="gender">Gender</label>
                <select id="gender" name="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <label for="birthday">Birthday</label>
                <input type="date" id="birthday" name="birthday" required>

                <!-- New Status dropdown -->
                <label for="status">Status</label>
                <select id="status" name="status" required>
                    <option value="Active">Active</option>
                    <option value="Archived">Archived</option>
                </select>

                <label for="profile-image">Upload Pet Profile Photo</label>
                <input type="file" id="profile-image" name="profile-image" accept="image/*" required>
                
                <button type="submit" class="add-button">Add Pet</button>
                <button type="button" class="cancel-button" onclick="closeModal('add-pet-modal')">Cancel</button>
            </form>
        </div>
    </div>

    <div id="edit-pet-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">Edit Pet</h2>
            <form id="edit-pet-form" onsubmit="saveChanges(event)" style="text-align: left;">
                <input type="hidden" id="pet-document-id">
                <input type="hidden" id="edit-index" name="edit-index">
                <label for="edit-pet-name">Pet Name</label>
                <input type="text" id="edit-pet-name" name="pet-name" required>
                <label for="edit-species">Species</label>
                <input type="text" id="edit-species" name="species" required>
                <label for="edit-breed">Breed</label>
                <input type="text" id="edit-breed" name="breed" required>
                <label for="edit-gender">Gender</label>
                <select id="edit-gender" name="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
                <label for="edit-birthday">Birthday</label>
                <input type="date" id="edit-birthday" name="birthday" required>

                <!-- New Status dropdown -->
                <label for="status">Status</label>
                <select id="status" name="status" required>
                    <option value="Active">Active</option>
                    <option value="Archived">Archived</option>
                </select>

                <label>Current Pet Profile Photo</label>
                <img id="edit-profile-image-preview" class="img-fluid" alt="Pet Image Preview" style="margin-bottom: 20px;"/>

                <label for="edit-profile-image">Upload New Pet Profile Photo</label>
                <input type="file" id="edit-profile-image" name="profile-image" accept="image/*" />
                
                <button type="submit" class="add-button">Save Changes</button>
                <button type="button" class="cancel-button" onclick="closeModal('edit-pet-modal')">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirmation-modal" class="modal">
        <div class="modal-content">
            <h2 class="modal-title">Delete Pet?</h2>
            <p>This will permanently delete the selected pet and associated data.</p>
            <div class="d-flex justify-content-center" style="gap: 10px; padding-top: 10px;">
                <button class="cancel-button" onclick="closeModal('delete-confirmation-modal')">Cancel</button>
                <button class="add-button" id="confirm-delete-btn">Delete</button>
            </div>
        </div>
    </div>


    <footer>
        <p>&copy; 2024 PetPal. All rights reserved.</p>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script type = "module" src="mypets.js"></script>
    <!-- <script src="../SignOut/signOut.js"></script> -->
</body>
</html>
